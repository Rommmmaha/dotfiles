# =======================================================================================
# Input
# =======================================================================================
input {
  kb_layout = us, ua
  kb_options = grp:caps_toggle,fkeys:basic_13-24

  numlock_by_default = true
  follow_mouse = true
}
# =======================================================================================
# Visuals
# =======================================================================================
general {
  gaps_in = 0
  gaps_out = 0
  border_size = 0
  layout = dwindle
  resize_on_border = 0
  snap {
    enabled = true
    window_gap = 25
    monitor_gap = 25
  }
}
decoration {
  rounding = 0
  shadow {
    enabled = true
    sharp = true
    range = 1
    color = rgba(ffffff33)
  }
  blur {
    enabled = true
    size = 2
    passes = 3
    new_optimizations = 1
    ignore_opacity = false
  }
}
misc {
  background_color = 0
  render_unfocused_fps = 60
  disable_hyprland_logo = 1
}
binds {
  scroll_event_delay = 0
  hide_special_on_workspace_change = 1
}
group:groupbar {
  text_color_inactive = 0x33ffffff
  font_size = 11
  indicator_height = 0
  gaps_in = 0
  gaps_out = 0
}
animations {
  enabled = 0
}
opengl:nvidia_anti_flicker = false
ecosystem:no_update_news = 1
experimental:xx_color_management_v4 = true
xwayland:force_zero_scaling = true
# =======================================================================================
# Autostart
# =======================================================================================
#exec-once = pw-loopback --name= "mic-monitor"
exec-once = hyprlock
exec-once = uwsm app -- eww daemon && eww open desktop_info
exec-once = uwsm app -- hyprpaper
exec-once = uwsm app -- kdeconnectd
exec-once = systemctl --user start hyprpolkitagent
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = sh -c "XDG_MENU_PREFIX=plasma- kbuildsycoca6 --noincremental"

exec-once = wl-clip-persist --clipboard regular
#exec-once = wl-paste -t text -w cliphist store
#exec-once = wl-paste -t image -w cliphist store

#exec = gsettings set org.gnome.desktop.interface cursor-theme 'GoogleDot-Black'
# =======================================================================================
# Keybinds
# =======================================================================================
$mainMod = SUPER
$configPath = $HOME/.config/hypr
$makeScreenshot = uwsm app -- flameshot gui

bind = $mainMod, RETURN, exec, uwsm app -- kitty
bind = $mainMod, E, exec, uwsm app -- dolphin
bind = $mainMod, X, exec, uwsm app -- code-insiders -n

#bind = $mainMod, S, exec, uwsm app -- rofi -show drun -theme-str "entry{placeholder:\"$(date +'%T    %u-%d-%m-%Y')\";}" -show-icons
#bind = $mainMod, PERIOD, exec, rofimoji -a copy
#bind = , XF86Calculator, exec, rofi -show calc -modi calc

bind = $mainMod, S, exec, uwsm app -- vicinae toggle
bind = $mainMod, V, exec, vicinae vicinae://extensions/vicinae/clipboard/history
bind = $mainMod, PERIOD, exec, vicinae vicinae://extensions/vicinae/core/search-emojis

bind = , XF86PowerOff, exec, uwsm stop
bind = $mainMod, L, exec, hyprlock
bindi = , PRINT, exec, $makeScreenshot
bind = $mainMod SHIFT, S, exec, $makeScreenshot

bind = $mainMod, W, killactive,
bind = $mainMod, F, togglefloating,
bind = $mainMod, A, fullscreen, 1
bind = $mainMod, G, togglegroup
bind = $mainMod, Tab, cyclenext,
bind = $mainMod, Tab, bringactivetotop,

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

bind = $mainMod, GRAVE, exec, _multitool ws 8
bind = $mainMod SHIFT, GRAVE, movetoworkspacesilent, 8
bind = $mainMod, Q, exec, _multitool ws 9
bind = $mainMod SHIFT, Q, movetoworkspacesilent, 9
bind = $mainMod, Z, exec, _multitool ws 10
bind = $mainMod SHIFT, Z, movetoworkspacesilent, 10

bind = $mainMod CTRL, LEFT, movewindow, l
bind = $mainMod CTRL, RIGHT, movewindow, r
bind = $mainMod CTRL, UP, movewindow, u
bind = $mainMod CTRL, DOWN, movewindow, d

bindl = SHIFT, ESCAPE, exec, playerctl play-pause

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
# =======================================================================================
# Window Rules
# =======================================================================================
windowrule = norounding, floating:0
windowrule = noshadow, floating:0

layerrule = blur, notifications
layerrule = blur, vicinae
layerrule = blur, gtk-layer-shell
layerrule = ignorezero, notifications
layerrule = ignorezero, vicinae
layerrule = ignorezero, gtk-layer-shell

windowrule = float, class:^(xdg-desktop-portal-gtk)$
windowrule = float, class:^(org\.freedesktop\.impl\.portal\.desktop\.kde)$

windowrule = pin, class:^(flameshot)$
windowrule = float, class:^(flameshot)$
windowrule = maximize, class:^(flameshot)$
windowrule = stayfocused, class:^(flameshot)$

windowrule = tag +game, class:^(gamescope)$
windowrule = tag +game, class:^(Minecraft.*)$
windowrule = tag +game, class:^(mcpelauncher-client)$
windowrule = tag +game, class:^(steam_app_.*)$

windowrule = renderunfocused, tag:game
windowrule = noblur, tag:game
windowrule = tile, tag:game
windowrule = opaque, tag:game
windowrule = forcergbx, tag:game

source = $configPath/custom/hyprland-{{ .chezmoi.hostname }}.conf
